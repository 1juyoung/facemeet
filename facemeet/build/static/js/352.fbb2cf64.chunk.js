"use strict";(self.webpackChunkmeeting=self.webpackChunkmeeting||[]).push([[352],{4228:(e,t,i)=>{i.d(t,{A:()=>x});var n=i(5043),a=(i(2917),i(3216)),o=i(6446),s=i(6213),r=i(4681),l=i(7930),d=i(5865),c=i(579);const m=function(e){let{meeting:t,onClick:i=(()=>{})}=e;const n=(0,a.Zp)();return(0,c.jsx)(l.A,{variant:"contained",className:"custom-Button",style:{backgroundColor:"#97F7B8",marginTop:"1rem",width:"10rem",height:"4rem",borderRadius:"10%",border:"none",padding:"1.5px",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",fontWeight:"bold"},sx:{"&:hover":{backgroundColor:"#2a9551 !important"}},onClick:()=>{"function"===typeof i&&i(t),t.meetingId?(console.log("Navigating to meeting detail with meetingId:",t.meetingId),n(`/meetingdetail/${t.meetingId}`)):console.error("Error: meetingId is undefined or null",t)},children:(0,c.jsx)(d.A,{variant:"body2",align:"center",sx:{color:"black"},children:t.meetingTitle||"No Title"})},t.meetingId)};const g=function(){const[e,t]=(0,n.useState)([]),i=`http://localhost:4000/meeting/user-meetings/${localStorage.getItem("userId")}/`;return(0,n.useEffect)((()=>{s.A.get(i).then((e=>{const i=e.data;t(i)})).catch((e=>{console.error("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd\ud568:",e)}))}),[]),e?(0,c.jsx)(o.A,{sx:{alignItems:"center",display:"flex",flexDirection:"column",marginBottom:"1rem",height:"100%",width:"87.5%",padding:"1.5rem",overflowY:"auto",border:`1px solid ${r.A[200]}`,borderRadius:"2px","> div + div":{marginTop:"0.5rem"},"> img":{width:"50px",height:"50px",borderRadius:"15%",objectFit:"cover"},"> span + span":{marginLeft:"0.5rem"}},children:e.map((e=>(0,c.jsx)(m,{meeting:e},e.meetingId)))}):(0,c.jsx)("div",{children:"loading"})},p=i.p+"static/media/MeetingLogo.edde572d953da4d074d3.png";var u=i(5051);const h=()=>{const e=(0,a.Zp)(),[t,i]=(0,n.useState)(!0),[r,l]=(0,n.useState)(!0),[d,m]=(0,n.useState)(),[h,x]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=localStorage.getItem("userId");s.A.get(`http://localhost:4000/mypage?userId=${e}`).then((e=>{const t=e.data;m(t)})).catch((e=>{console.error("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd:",e)})),s.A.get(`http://localhost:4000/meeting/user-meetings/${e}/`).then((e=>{x(e.data)})).catch((e=>{console.error("Error fetching meetings:",e)}))}),[]);return h?(0,c.jsx)("div",{className:"Layout",children:(0,c.jsxs)(o.A,{component:"main",sx:{display:"grid",maxHeight:"93vh",gridTemplateColumns:{xs:"repeat(6, 1fr)",sm:"repeat(6, 1fr)",md:"repeat(6, 1fr)"},gridTemplateRows:{xs:"repeat(6, 1fr) minmax(0, 1fr) repeat(4, 1fr)",sm:"repeat(6, 1fr)",md:"repeat(6, 1fr)"},columnGap:"1rem",marginX:"auto",marginY:"auto"},children:[(0,c.jsxs)(o.A,{component:"section",sx:{gridColumn:"1 / 2",gridRow:"2 / 6",display:"fle",flexDirection:"column",justifyContent:"flex-end"},children:[(0,c.jsx)(g,{sx:{height:"100%"}}),h.map((e=>(0,c.jsx)("div",{},`key-${e.meetingId}`))),(0,c.jsxs)(o.A,{sx:{position:"relative",paddingTop:"3%",width:"16.3rem",height:"10rem"},children:[(0,c.jsx)(o.A,{sx:{position:"relative",backgroundColor:"grey",marginLeft:"4%",marginTop:"1.5%",width:"3rem",height:"3rem",borderRadius:"15%"},children:(0,c.jsx)(o.A,{sx:{position:"absolute",bottom:"0",right:"0",width:"17px",height:"17px",borderRadius:"50%",backgroundColor:d&&d.length>0&&d[0].state?"#4EE080":"#FF8A00",border:"1px solid white"}})}),(0,c.jsx)("div",{style:{position:"relative",marginLeft:"27%",marginTop:"-16%",fontWeight:"bold"},children:d&&d.user_id}),(0,c.jsxs)("div",{id:"mic",className:"icon-wrapper",onClick:e=>{e.stopPropagation(),i((e=>!e)),document.getElementById("mic").classList.toggle("icon-on")},children:[" ",t?(0,c.jsx)(u.sbN,{}):(0,c.jsx)(u.e7e,{})," "]}),(0,c.jsxs)("div",{id:"video",className:"icon-wrapper",onClick:e=>{e.stopPropagation(),l((e=>!e)),document.getElementById("video").classList.toggle("icon-on")},children:[" ",r?(0,c.jsx)(u.Vs8,{}):(0,c.jsx)(u.fV5,{})," "]}),(0,c.jsxs)("div",{id:"setting",onClick:()=>e("/NoteDetail"),children:[(0,c.jsx)(u.k$1,{})," "]})]})]}),(0,c.jsx)(o.A,{sx:{gridColumn:"1 / -1",gridRow:"1 / 2",display:"flex",justifyContent:"center",alignItems:"center",border:"2px solid #ccc"},children:(0,c.jsx)("img",{src:p,alt:"Meeting \ub85c\uace0",style:{width:"15rem",height:"8rem"},onClick:()=>e("/Home")})})]})}):(0,c.jsx)("div",{children:"Loading..."})},x=e=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{id:"box"}),(0,c.jsx)("div",{id:"boxright"}),(0,c.jsx)("div",{id:"boxbottom"}),(0,c.jsx)(h,{}),(0,c.jsx)("main",{id:"main",role:"main",children:e.children})]})},9776:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var n=i(5043),a=i(4228),o=i(6213),s=i(579);const r=function(){const e=localStorage.getItem("userId"),t=localStorage.getItem("accessToken"),[i,r]=(0,n.useState)({user_id:e||"",nickname:"",email:"",username:""}),[l,d]=(0,n.useState)(null),[c,m]=(0,n.useState)(null),[g,p]=(0,n.useState)(!0),u=async()=>{try{const t=await o.A.get(`http://localhost:4000/api/customers?userId=${e}`);console.log("Server response data:",t.data);const i=t.data;r({user_id:i.user_id||"",nickname:i.nickname||"",email:i.email||"",username:i.email?i.email.split("@")[0]:"",profileImageId:i.profileImageId||null}),d(i.profileImage||null),p(!1)}catch(t){console.error("Error fetching data:",t),p(!1)}};(0,n.useEffect)((()=>{u()}),[e]);const h=e=>{const{name:t,value:i}=e.target;r((e=>({...e,[t]:i})))};return g?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)(a.A,{children:(0,s.jsxs)("div",{className:"Profile",children:[(0,s.jsx)("div",{className:"header"}),(0,s.jsx)("div",{className:"picture",children:i.profileImageId?(0,s.jsx)("img",{src:`http://localhost:4000/api/customers/profileImage/${i.profileImageId}`,alt:"Profile",className:"profile-img"}):(0,s.jsx)("div",{className:"profile-placeholder"})}),(0,s.jsx)("h1",{children:i.nickname}),(0,s.jsx)("input",{type:"file",id:"profilePictureInput",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){console.log("Selected file:",t),m(t);const e=new FileReader;e.onloadend=()=>{d(e.result)},e.readAsDataURL(t)}else console.log("No file selected")}}),(0,s.jsx)("button",{className:"picture-button",onClick:()=>document.getElementById("profilePictureInput").click(),children:"\uc0ac\uc9c4 \ubcc0\uacbd"}),(0,s.jsx)("button",{className:"save",onClick:async()=>{console.log("handleSave called");try{const e=new FormData;e.append("user_id",i.user_id),e.append("nickname",i.nickname),e.append("email",i.email),c?(e.append("profileImage",c),console.log("Image file added to FormData")):console.log("No image file found");const n=await o.A.patch(`http://localhost:4000/api/customers/${i.user_id}`,e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});r({...i,...n.data}),d(n.data.profileImage),alert("\uc815\ubcf4\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await u()}catch(e){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4:",e),alert("\uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}},children:"\uc800\uc7a5"}),(0,s.jsxs)("div",{className:"information",children:[(0,s.jsx)("label",{children:"\uc544\uc774\ub514:"}),(0,s.jsx)("input",{type:"text",name:"user_id",className:"text-input",value:i.user_id,onChange:h,required:!0}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{children:"\ub2c9\ub124\uc784:"}),(0,s.jsx)("input",{type:"text",name:"nickname",className:"text-input",value:i.nickname,onChange:h,required:!0}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{children:"\uc774\uba54\uc77c:"}),(0,s.jsx)("input",{type:"text",name:"email",className:"text-input",value:i.email,onChange:h,required:!0}),(0,s.jsx)("br",{})]})]})})}},2917:()=>{}}]);
//# sourceMappingURL=352.fbb2cf64.chunk.js.map